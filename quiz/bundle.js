var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let l=i?()=>window.performance.now():()=>Date.now(),u=i?t=>requestAnimationFrame(t):t;const a=new Set;function f(t){a.forEach(n=>{n.c(t)||(a.delete(n),n.f())}),0!==a.size&&u(f)}function d(t,n){t.appendChild(n)}function h(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function m(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function $(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function y(){return g(" ")}function _(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function v(t){return function(n){return n.preventDefault(),t.call(this,n)}}function x(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function w(t,n){n=""+n,t.data!==n&&(t.data=n)}function b(t,n,e){t.classList[e?"add":"remove"](n)}function E(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}class k{constructor(t,n=null){this.e=$("div"),this.a=n,this.u(t)}m(t,n=null){for(let e=0;e<this.n.length;e+=1)h(t,this.n[e],n);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(p)}}const q=new Set;let C,j=0;function S(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),r=e.length-o.length;r&&(t.style.animation=o.join(", "),(j-=r)||u(()=>{j||(q.forEach(t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}}),q.clear())}))}function A(t){C=t}function L(){if(!C)throw new Error("Function called outside component initialization");return C}const M=[],T=[],z=[],N=[],H=Promise.resolve();let O=!1;function R(t){z.push(t)}let D=!1;const P=new Set;function F(){if(!D){D=!0;do{for(let t=0;t<M.length;t+=1){const n=M[t];A(n),G(n.$$)}for(M.length=0;T.length;)T.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];P.has(n)||(P.add(n),n())}z.length=0}while(M.length);for(;N.length;)N.pop()();O=!1,D=!1,P.clear()}}function G(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(R)}}let B;function K(t,n,e){t.dispatchEvent(E(`${n?"intro":"outro"}${e}`))}const Q=new Set;let Y;function I(t,n){t&&t.i&&(Q.delete(t),t.i(n))}function J(t,n,e,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),Y.c.push(()=>{Q.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const U={duration:0};function V(e,o,r){let s,i,d=o(e,r),h=!1,p=0;function m(){s&&S(e,s)}function g(){const{delay:o=0,duration:r=300,easing:c=n,tick:g=t,css:y}=d||U;y&&(s=function(t,n,e,o,r,c,s,i=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=n+(e-n)*c(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${i}`,d=t.ownerDocument;q.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild($("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${a}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${r}ms 1 both`,j+=1,f}(e,0,1,r,o,c,y,p++)),g(0,1);const _=l()+o,v=_+r;i&&i.abort(),h=!0,R(()=>K(e,!0,"start")),i=function(t){let n;return 0===a.size&&u(f),{promise:new Promise(e=>{a.add(n={c:t,f:e})}),abort(){a.delete(n)}}}(t=>{if(h){if(t>=v)return g(1,0),K(e,!0,"end"),m(),h=!1;if(t>=_){const n=c((t-_)/r);g(n,1-n)}}return h})}let y=!1;return{start(){y||(S(e),c(d)?(d=d(),(B||(B=Promise.resolve()).then(()=>{B=null}),B).then(g)):g())},invalidate(){y=!1},end(){h&&(m(),h=!1)}}}function W(t,n,o){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,o),R(()=>{const n=i.map(e).filter(c);l?l.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(R)}function X(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Z(t,n){-1===t.$$.dirty[0]&&(M.push(t),O||(O=!0,H.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function tt(n,e,c,s,i,l,u=[-1]){const a=C;A(n);const f=e.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u};let h=!1;if(d.ctx=c?c(n,f,(t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),h&&Z(n,t)),e}):[],d.update(),h=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),e.target){if(e.hydrate){const t=(m=e.target,Array.from(m.childNodes));d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();e.intro&&I(n.$$.fragment),W(n,e.target,e.anchor),F()}var m;A(a)}class nt{$destroy(){X(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function et(t){const n=t-1;return n*n*n+1}function ot(t,{delay:n=0,duration:e=400,easing:o=et,x:r=0,y:c=0,opacity:s=0}){const i=getComputedStyle(t),l=+i.opacity,u="none"===i.transform?"":i.transform,a=l*(1-s);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*r}px, ${(1-t)*c}px);\n\t\t\topacity: ${l-a*n}`}}function rt(t,n,e){const o=t.slice();return o[8]=n[e],o[10]=e,o}function ct(t){let n,e,o,r,c,s,i,l=t[8].text+"",u=t[10]+1+"";function a(...n){return t[7](t[8],...n)}return{c(){n=$("li"),o=y(),r=$("span"),c=g(u),s=y(),e=new k(l,o),x(r,"class","svelte-ogjwtm"),x(n,"class","svelte-ogjwtm"),b(n,"correct",!0===t[8].correct),b(n,"incorrect",!1===t[8].correct)},m(t,l,u){h(t,n,l),e.m(n),d(n,o),d(n,r),d(r,c),d(n,s),u&&i(),i=_(n,"click",v(a))},p(o,r){t=o,2&r&&l!==(l=t[8].text+"")&&e.p(l),2&r&&b(n,"correct",!0===t[8].correct),2&r&&b(n,"incorrect",!1===t[8].correct)},d(t){t&&p(n),i()}}}function st(n){let e,o,r,c,s,i,l=n[0].question+"",u=n[1],a=[];for(let t=0;t<u.length;t+=1)a[t]=ct(rt(n,u,t));return{c(){e=$("div"),o=$("h2"),r=y(),c=$("ul");for(let t=0;t<a.length;t+=1)a[t].c();x(c,"class","possible svelte-ogjwtm"),x(e,"class","box")},m(t,s,u){h(t,e,s),d(e,o),o.innerHTML=l,d(e,r),d(e,c);for(let t=0;t<a.length;t+=1)a[t].m(c,null);u&&i(),i=_(window,"keydown",n[3])},p(t,[n]){if(1&n&&l!==(l=t[0].question+"")&&(o.innerHTML=l),6&n){let e;for(u=t[1],e=0;e<u.length;e+=1){const o=rt(t,u,e);a[e]?a[e].p(o,n):(a[e]=ct(o),a[e].c(),a[e].m(c,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=u.length}},i(t){s||R(()=>{(s=V(e,ot,{delay:it,duration:500,y:20,opacity:0})).start()})},o:t,d(t){t&&p(e),m(a,t),i()}}}const it=100;function lt(t,n,e){const o=function(){const t=L();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=E(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}();let r,c,{question:s}=n;function i(){const t=[];s.incorrect_answers.forEach(n=>{t.push({text:n,correct:null})}),t.push({text:s.correct_answer,correct:null}),e(1,r=t.sort(function(){return.5-Math.random()}))}function l(t){c&&(c=!1,t.text===s.correct_answer?(t.correct=!0,e(0,s.correct=!0,s)):(t.correct=!1,r.filter(t=>t.text===s.correct_answer).forEach(t=>{t.correct=!0})),e(1,r),setTimeout(()=>{o("answered",s)},1e3))}return t.$set=(t=>{"question"in t&&e(0,s=t.question)}),t.$$.update=(()=>{3&t.$$.dirty&&s&&(c=!0,r||i())}),[s,r,l,function(t){const n=event.keyCode;if(n>=49&&n<=57){const t=n-48-1;t<r.length&&l(r[t])}},c,o,i,t=>l(t)]}class ut extends nt{constructor(t){super(),tt(this,t,lt,st,s,{question:0})}}function at(t,n,e){const o=t.slice();return o[19]=n[e],o}function ft(t){let n,e,o,r,c;return{c(){n=g("Score: "),e=g(t[4]),o=g(" ( "),r=g(t[6]),c=g("%)")},m(t,s){h(t,n,s),h(t,e,s),h(t,o,s),h(t,r,s),h(t,c,s)},p(t,n){16&n&&w(e,t[4]),64&n&&w(r,t[6])},d(t){t&&p(n),t&&p(e),t&&p(o),t&&p(r),t&&p(c)}}}function dt(t){let n,e=t[7],o=[];for(let n=0;n<e.length;n+=1)o[n]=ht(at(t,e,n));return{c(){n=$("div");for(let t=0;t<o.length;t+=1)o[t].c();x(n,"class","categories svelte-1upi2xi")},m(t,e){h(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,r){if(384&r){let c;for(e=t[7],c=0;c<e.length;c+=1){const s=at(t,e,c);o[c]?o[c].p(s,r):(o[c]=ht(s),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=e.length}},d(t){t&&p(n),m(o,t)}}}function ht(t){let n,e,o,r,c=t[19].name+"";function s(...n){return t[18](t[19],...n)}return{c(){n=$("a"),e=g(c),o=y(),x(n,"href","#startquiz"),x(n,"class","button button_block  svelte-1upi2xi")},m(t,c,i){h(t,n,c),d(n,e),d(n,o),i&&r(),r=_(n,"click",v(s))},p(n,e){t=n},d(t){t&&p(n),r()}}}function pt(t){let n;const e=new ut({props:{question:t[3]}});return e.$on("answered",t[11]),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};8&n&&(o.question=t[3]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function mt(t){let n,e,o,c,s,i,l,u,a,f;return{c(){n=$("a"),e=g("You scored "),o=g(t[4]),c=g(" out of "),s=g(t[5]),i=g(". Load more questions ?"),l=y(),u=$("p"),(a=$("a")).textContent="Start again",x(n,"href","#loadmore"),x(n,"class","button button_block svelte-1upi2xi"),x(a,"href","#reset"),x(a,"class","svelte-1upi2xi"),x(u,"class","reset svelte-1upi2xi")},m(p,m,$){h(p,n,m),d(n,e),d(n,o),d(n,c),d(n,s),d(n,i),h(p,l,m),h(p,u,m),d(u,a),$&&r(f),f=[_(n,"click",v(t[10])),_(a,"click",v(t[9]))]},p(t,n){16&n&&w(o,t[4]),32&n&&w(s,t[5])},d(t){t&&p(n),t&&p(l),t&&p(u),r(f)}}}function $t(t){let n;return{c(){x(n=$("p"),"class","spinner")},m(t,e){h(t,n,e)},d(t){t&&p(n)}}}function gt(t){let n,e,o,c,s,i,l,u,a,f,m,g=t[1]&&ft(t),_=!t[1]&&dt(t),v=t[3]&&pt(t),w=t[2]&&mt(t),b=t[0]&&$t();return{c(){n=$("header"),(e=$("h1")).textContent=`${yt}`,o=y(),c=$("nav"),g&&g.c(),s=y(),i=$("main"),l=$("div"),_&&_.c(),u=y(),v&&v.c(),a=y(),w&&w.c(),f=y(),b&&b.c(),x(e,"class","svelte-1upi2xi"),x(c,"class","svelte-1upi2xi"),x(n,"class","svelte-1upi2xi"),x(l,"class","container"),x(i,"class","svelte-1upi2xi")},m(t,r){h(t,n,r),d(n,e),d(n,o),d(n,c),g&&g.m(c,null),h(t,s,r),h(t,i,r),d(i,l),_&&_.m(l,null),d(l,u),v&&v.m(l,null),d(l,a),w&&w.m(l,null),d(l,f),b&&b.m(l,null),m=!0},p(t,[n]){t[1]?g?g.p(t,n):((g=ft(t)).c(),g.m(c,null)):g&&(g.d(1),g=null),t[1]?_&&(_.d(1),_=null):_?_.p(t,n):((_=dt(t)).c(),_.m(l,u)),t[3]?v?(v.p(t,n),8&n&&I(v,1)):((v=pt(t)).c(),I(v,1),v.m(l,a)):v&&(Y={r:0,c:[],p:Y},J(v,1,1,()=>{v=null}),Y.r||r(Y.c),Y=Y.p),t[2]?w?w.p(t,n):((w=mt(t)).c(),w.m(l,f)):w&&(w.d(1),w=null),t[0]?b||((b=$t()).c(),b.m(l,null)):b&&(b.d(1),b=null)},i(t){m||(I(v),m=!0)},o(t){J(v),m=!1},d(t){t&&p(n),g&&g.d(),t&&p(s),t&&p(i),_&&_.d(),v&&v.d(),w&&w.d(),b&&b.d()}}}const yt="Charles' Cool Quiz",_t=10;function vt(t,n,e){let o=9;let r,c,s,i,l,u=0,a=0,f=0,d=1;async function h(){let t=`https://opentdb.com/api.php?amount=${_t}&type=multiple`;"any"!==o&&(t+=`&category=${o}`);const n=await fetch(t);if(n.ok){return await n.json()}throw await n.json()}function p(t){o=t.id,e(0,r=!0),h().then(t=>{i=t.results,e(0,r=!1),e(1,c=!0),d=i.length,e(3,l=i[a])},t=>{console.log(t)})}function m(){e(3,l=null),setTimeout(()=>{a+1<i.length?e(3,l=i[++a]):e(2,s=!0)},100)}var $;$=(()=>{}),L().$$.on_mount.push($),function(t){L().$$.on_destroy.push(t)}(()=>{});let g;return t.$$.update=(()=>{48&t.$$.dirty&&e(6,g=f>0?Math.round(u/f*100):0)}),[r,c,s,l,u,f,g,[{name:"General Knowledge",id:"any"},{name:"Science & Nature",id:17},{name:"History",id:23},{name:"Geography",id:22}],p,function(){e(1,c=!1),e(2,s=!1),e(4,u=0),e(5,f=0),a=0},function(){!1===r&&(e(0,r=!0),e(2,s=!1),h().then(t=>{e(0,r=!1),t.results.forEach(t=>{i.push(t)}),d=(i=i).length,m()}))},function(t){const n=t.detail;e(5,f++,f),n.correct&&e(4,u++,u),m()},o,i,a,d,h,m,t=>p(t)]}return new class extends nt{constructor(t){super(),tt(this,t,vt,gt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
